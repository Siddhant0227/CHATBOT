<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>HR Chatbot</title>
  {% load static %}
  <meta name="csrf-token" content="{{ csrf_token }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
  <link rel="stylesheet" href="{% static 'css/style.css' %}" />
</head>
<body>

  <div class="chat-container">
    <div class="messages" id="messages">
      <div class="message bot-message">
        Hello! I’m your HR assistant. How can I help you today?
      </div>
    </div>

    <!-- Feature buttons -->
    <div class="button-group" id="feature-buttons">
      <button class="btn-feature" onclick="askUserName()">Start Leave Application</button>
      <button class="btn-feature" onclick="sendMessageFromOption('check status')">Check Status</button>
      <button class="btn-feature" onclick="sendMessageFromOption('faq')">Support FAQ</button>
    </div>

    <!-- Go back -->
    <div id="go-back-container" style="display:none; margin-bottom:10px;">
      <button id="go-back-btn" class="btn-go-back">⬅️ Go Back</button>
    </div>

    <!-- FAQ buttons -->
    <div id="faq-buttons" class="button-group" style="display:none;"></div>

    <!-- User name input -->
    <div id="user-name-container" style="display:none; margin-bottom: 10px;">
      <input type="text" id="user_name" placeholder="Please enter your name" />
      <button class="btn-submit" onclick="submitUserName()">Submit Name</button>
    </div>

    <!-- Leave type choices -->
    <div class="button-group" id="choice-buttons" style="display:none;">
      <button class="btn-choice" onclick="sendChoice('full day leave')">Full Day</button>
      <button class="btn-choice" onclick="sendChoice('half day leave')">Half Day</button>
    </div>

    <!-- Date picker -->
    <div class="date-picker" id="calendar" style="display:none;">
      <input id="leave_date" placeholder="Select date" />
      <button class="btn-submit" onclick="submitLeaveDate()">Submit Date</button>
    </div>

    <!-- Time picker -->
    <div class="time-picker" id="timepicker" style="display:none;">
      <input id="leave_time" placeholder="Select time" />
      <button class="btn-submit" onclick="submitLeaveTime()">Submit Time</button>
    </div>

    <!-- User input form -->
    <form id="chat-form" class="message-form" style="margin-top: 10px;">
      <input
        type="text"
        id="user_message"
        placeholder="Type your message…"
        autocomplete="off"
        name="user_message"
      />
      <button type="submit" class="btn-send">Send</button>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="{% static 'js/chatbot.js' %}"></script>
</body>
</html>
